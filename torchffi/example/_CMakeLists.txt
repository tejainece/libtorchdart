cmake_minimum_required(VERSION 3.31.6)
project(libtorch_examples)

set(libtorch_VERSION 2.8.0)
find_package(Torch ${libtorch_VERSION} PATHS ../libtorch_linux)
if(NOT Torch_FOUND)
  
else()
  message(STATUS "libtorch ${libtorch_VERSION} - found")
endif()

macro(add_example name)
  add_executable(${name} ${name}.cpp)
  target_include_directories(${name} PRIVATE ../libtorch_linux/include)
  target_include_directories(${name} PRIVATE ../libtorch_linux/include/torch/csrc/api/include)
  target_link_libraries(${name} ${TORCH_LIBRARIES})
endmacro()

add_example(ctorch)